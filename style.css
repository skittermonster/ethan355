
/* === Minimal, tasteful UI/UX refresh =====================
   - Softer palette & high-contrast text
   - Better rhythm: spacing, readable line-lengths
   - Polished cards, buttons, and micro-interactions
   - Accessible focus states, prefers-reduced-motion support
   - Subtle grid background + gradient accents (no heavy effects)
===========================================================*/

:root{
  --bg: #0b0c10;
  --surface: #0f1117;
  --text: #e7e9ee;
  --muted: #a3a9b6;
  --brand: #7cb8ff;        /* brighter brand blue */
  --accent: #bda7ff;       /* gentle violet */
  --border: #1b2230;
  --radius: 16px;
  --space: clamp(0.75rem, 2vw, 1.25rem);
  --content: min(1050px, 92vw);
  --shadow: 0 10px 35px rgba(0,0,0,0.35);
}

*{ box-sizing: border-box; }
html, body{ height: 100%; }

/* Prevent white overscroll flash & enable smooth scroll */
html {
  background: var(--bg);
  overscroll-behavior: none;
  scroll-behavior: smooth;
}

body{
  margin: 0;
  font: 400 1rem/1.75 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 100% -100px, #1a2236 0%, #0b0c10 45%),
    /* subtle grid */
    linear-gradient(to right, rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: auto, 24px 24px, 24px 24px;
  background-position: 0 0, 0 0, 0 0;
  overscroll-behavior: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container{ width: var(--content); margin-inline: auto; padding-inline: var(--space); }

/* Typography */
h1, h2, h3{ line-height: 1.2; margin: 0 0 .6em; letter-spacing: .01em; }
h1{ font-size: clamp(1.9rem, 3.8vw, 2.65rem); }
h2{ font-size: clamp(1.35rem, 2.5vw, 1.8rem); }
h3{ font-size: clamp(1.12rem, 2vw, 1.28rem); }
p{ margin: 0 0 1em; color: var(--text); max-width: 70ch; }
a{ color: var(--brand); text-decoration: none; text-underline-offset: 3px; }
a:hover{ text-decoration: underline; }
.text-link{ text-decoration: underline; }
.lead{ color: var(--muted); font-size: 1.05rem; }

/* Section rhythm */
.section{ padding-block: clamp(2rem, 6vw, 4.5rem); }
.section-alt{ background: rgba(255,255,255,0.02); border-block: 1px solid var(--border); }
.container > h2 + p{ margin-top: -0.25rem; }

/* Header / Nav */
.site-header{
  position: sticky; top: 0; z-index: 50;
  display: grid; grid-template-columns: 1fr auto; gap: 1rem; align-items: center;
  padding: .8rem var(--space);
  background: rgba(10,12,17,.7);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
}
.brand{ font-weight: 800; letter-spacing: .02em; color: var(--text); }
.site-nav ul{ list-style: none; display: flex; gap: .9rem; margin: 0; padding: 0; }
.site-nav a{
  padding: .4rem .65rem; border-radius: .65rem; position: relative;
}
.site-nav a:hover{ background: #151923; }
.site-nav a[aria-current="page"],
.site-nav a[aria-current="true"]{
  background: #151923;
  outline: 1px solid #1d2433;
}

/* Mobile nav */
.nav-toggle{ display: none; background: none; border: 1px solid var(--border); color: var(--text); padding: .45rem .65rem; border-radius: .7rem; }
@media (max-width: 760px){
  .nav-toggle{ display: inline-flex; align-items: center; gap:.4rem; }
  .site-nav{ display:none; }
  .site-nav.open{ display:block; }
  .site-nav ul{ flex-direction: column; padding-block: .5rem; }
}

/* Hero */
.hero{ padding-block: clamp(2rem, 7vw, 5.25rem); }
.hero-inner{ display: grid; grid-template-columns: 1.15fr .85fr; gap: clamp(1rem, 4vw, 3rem); align-items: center; }
.hero-copy h1 .accent{
  background: linear-gradient(90deg, var(--brand), var(--accent));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.hero-cta{ display: flex; flex-wrap: wrap; gap: .7rem; margin-top: 1rem; }
.hero-photo img{ width: 100%; height: auto; border-radius: var(--radius); box-shadow: var(--shadow); }

@media (max-width: 900px){ .hero-inner{ grid-template-columns: 1fr; } }

/* Pills & inline meta */
.inline-info{ display: flex; flex-wrap: wrap; gap: .6rem .9rem; padding: 0; list-style: none; color: var(--muted); }
.pill-list{ display: flex; flex-wrap: wrap; gap: .5rem; }
.pill{
  display: inline-block; padding: .38rem .7rem; border-radius: 999px;
  background: #121826; border:1px solid var(--border); color: var(--text);
  transition: transform .15s ease;
}
.pill:hover{ transform: translateY(-1px); }

/* Grid & Cards */
.grid{ display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1rem; }
.card{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem;
  box-shadow: var(--shadow);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card:hover{
  transform: translateY(-2px);
  border-color: #243049;
  box-shadow: 0 16px 40px rgba(0,0,0,.45);
}
.card-header{ display: flex; justify-content: space-between; align-items: baseline; gap: .75rem; margin-bottom: .35rem; }
.meta{ color: var(--muted); font-size: .9rem; }

/* Forms */
form{ max-width: 720px; }
.form-row{ display: grid; gap: .35rem; margin-bottom: .9rem; }
input, textarea{
  width: 100%; padding: .75rem .9rem; border-radius: 12px;
  background: #0b0f17; border: 1px solid var(--border); color: var(--text);
  transition: border-color .18s ease, box-shadow .18s ease;
}
input:focus, textarea:focus{ outline: none; border-color: #2a3550; box-shadow: 0 0 0 3px rgba(124,184,255,.15); }
.error{ color: #fca5a5; font-size: .9rem; min-height: 1.2em; }
.form-success{ color: #86efac; }

/* Buttons */
.btn{
  --btn-bg: linear-gradient(180deg, #1f2a44, #0f172a);
  display: inline-flex; align-items: center; justify-content: center; gap:.45rem;
  border: 1px solid var(--border); background: var(--btn-bg); color: var(--text);
  padding: .68rem .95rem; border-radius: 12px; box-shadow: var(--shadow); cursor: pointer;
  transition: transform .15s ease, filter .15s ease, box-shadow .2s ease;
}
.btn:hover{ filter: brightness(1.07); transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn-secondary{ --btn-bg: linear-gradient(180deg, #222329, #151923); }

/* Viz containers */
.viz{
  width: 100%; min-height: 280px; background: var(--surface);
  border: 1px solid var(--border); border-radius: var(--radius); padding: .75rem; box-shadow: var(--shadow);
}
.code-notes{ margin-top: .75rem; color: var(--muted); }

/* Footer */
.site-footer{ border-top: 1px solid var(--border); background: rgba(0,0,0,0.4); }
.site-footer .container{ padding-block: 1rem; color: var(--muted); }

/* Focus ring for everything focusable */
:where(a, button, input, textarea):focus-visible{
  outline: 2px solid color-mix(in oklab, var(--brand) 70%, white 10%);
  outline-offset: 2px;
  border-radius: 12px;
}

/* Motion sensitivity */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}


/* === Minimal audio player === */
.audio-player{
  display: grid;
  gap: .75rem;
  max-width: 720px;
  margin-top: 1rem;
  background: var(--surface, #0e1420);
  border: 1px solid var(--border, #1f2937);
  border-radius: var(--radius, 12px);
  padding: 1rem;
  box-shadow: var(--shadow, 0 2px 10px rgba(0,0,0,.25));
}
.ap-meta{ color: var(--muted, #9aa4b2); }
.ap-controls{ display: flex; gap: .5rem; align-items: center; }
#ap-seek{ width: 100%; appearance: none; height: 6px; border-radius: 999px; background: #151923; border: 1px solid var(--border, #1f2937); }
#ap-seek::-webkit-slider-thumb{ appearance: none; width: 14px; height: 14px; border-radius: 50%; background: var(--brand, #6ea8fe); border: none; }
.ap-list{ list-style: none; padding: 0; margin: .25rem 0 0; display: grid; gap: .25rem; }
.ap-track{ padding: .4rem .6rem; border: 1px solid var(--border, #1f2937); border-radius: 10px; background: #0b0f17; cursor: pointer; color: var(--text, #e5e7eb); }
.ap-track:hover{ background:#121826; }
.ap-track.is-active{ outline: 1px solid #243049; }

